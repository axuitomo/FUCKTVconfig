version: '3.8'

services:
  fucktvconfig:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: fucktvconfig
    ports:
      - "8787:8787"
    environment:
      # Admin password (required)
      - KEY=${KEY:-your-admin-password-here}
      # Custom AI API configuration (required for Docker deployment)
      - APIURL=${APIURL:-}
      - APIKEY=${APIKEY:-}
      - MODEL=${MODEL:-gpt-4o-mini}
    volumes:
      # Mount source code for development (hot reload)
      - ./src:/app/src:ro
      - ./worker.js:/app/worker.js:ro
    restart: unless-stopped
    networks:
      - fucktvconfig-network

networks:
  fucktvconfig-network:
    driver: bridge
